INFO     common.recordlog:conftest.py:21 -------------接口测试开始--------------
INFO     common.recordlog:sendrequest.py:142 接口名称：查询用户组合权限-权限管理员+普通用户
INFO     common.recordlog:sendrequest.py:143 请求地址：http://47.113.145.175:8080/ssm_web/user/getUserPermissions
INFO     common.recordlog:sendrequest.py:144 请求方式：get
INFO     common.recordlog:sendrequest.py:145 测试用例名称：3.查询用户组合权限-权限管理员+普通用户
INFO     common.recordlog:sendrequest.py:146 请求头：{'Content-Type': 'application/json', 'Authorization': '259d51aa-752b-4d90-a2de-131223a7db8f', 'Cookie': 'JSESSIONID=A084DCDE76F6516909923F5A2A69FB91'}
INFO     common.recordlog:sendrequest.py:154 请求参数：{'json': {}}
INFO     common.recordlog:sendrequest.py:108 接口返回信息：{"success":true,"state":200,"message":"响应成功","content":{"menuList":[{"id":1,"parentId":-1,"href":"","icon":"lock","name":"权限管理","description":null,"orderNum":1,"shown":1,"level":0,"createdTime":null,"updatedTime":null,"createdBy":null,"updatedBy":null,"subMenuList":[{"id":2,"parentId":1,"href":"Role","icon":"lock","name":"角色列表","description":"管理系统角色","orderNum":1,"shown":1,"level":1,"createdTime":1595230898000,"updatedTime":1595230898000,"createdBy":"system","updatedBy":"system","subMenuList":[]},{"id":3,"parentId":1,"href":"Menu","icon":"lock","name":"菜单列表","description":"管理系统菜单","orderNum":2,"shown":1,"level":1,"createdTime":1595230898000,"updatedTime":1595230898000,"createdBy":"system","updatedBy":"system","subMenuList":[]},{"id":4,"parentId":1,"href":"Resource","icon":"lock","name":"资源列表","description":"管理系统资源","orderNum":3,"shown":1,"level":1,"createdTime":1595230898000,"updatedTime":1595230898000,"createdBy":"system","updatedBy":"system","subMenuList":[]},{"id":10,"parentId":1,"href":"AllocMenu","icon":"setting","name":"给角色分配菜单页面","description":"给角色分配菜单页面路由","orderNum":4,"shown":0,"level":1,"createdTime":1595230898000,"updatedTime":1595230898000,"createdBy":"system","updatedBy":"system","subMenuList":[]},{"id":11,"parentId":1,"href":"AllocResource","icon":"setting","name":"给角色分配资源页面","description":"给角色分配资源页面路由","orderNum":5,"shown":0,"level":1,"createdTime":1595230898000,"updatedTime":1595230898000,"createdBy":"system","updatedBy":"system","subMenuList":[]},{"id":12,"parentId":1,"href":"AddMenu","icon":"setting","name":"添加菜单页面","description":"添加菜单页路由","orderNum":6,"shown":0,"level":1,"createdTime":1595230898000,"updatedTime":1595230898000,"createdBy":"system","updatedBy":"system","subMenuList":[]},{"id":13,"parentId":1,"href":"UpdateMenu","icon":"setting","name":"更新菜单页面","description":"更新菜单页路由","orderNum":7,"shown":0,"level":1,"createdTime":1595230898000,"updatedTime":1595230898000,"createdBy":"system","updatedBy":"system","subMenuList":[]},{"id":14,"parentId":1,"href":"ResourceCategory","icon":"setting","name":"资源分类列表页面","description":"资源分类列表页面路由","orderNum":8,"shown":0,"level":1,"createdTime":1595230898000,"updatedTime":1595230898000,"createdBy":"system","updatedBy":"system","subMenuList":[]},{"id":22,"parentId":1,"href":"addOrder","icon":"lock","name":"订单管理修改","description":"订单系统管理修改","orderNum":1,"shown":0,"level":0,"createdTime":1597062761000,"updatedTime":1597062761000,"createdBy":"system","updatedBy":"system","subMenuList":[]}]},{"id":5,"parentId":-1,"href":"Courses","icon":"film","name":"课程管理","description":null,"orderNum":2,"shown":1,"level":0,"createdTime":null,"updatedTime":null,"createdBy":null,"updatedBy":null,"subMenuList":[{"id":19,"parentId":5,"href":"CourseItem","icon":"setting","name":"课程详情页面","description":"课程详情页面路由","orderNum":1,"shown":0,"level":1,"createdTime":1595230898000,"updatedTime":1595230898000,"createdBy":"system","updatedBy":"system","subMenuList":[]},{"id":20,"parentId":5,"href":"CourseSections","icon":"setting","name":"课时信息页面","description":"课时信息页面路由","orderNum":2,"shown":0,"level":1,"createdTime":1595230898000,"updatedTime":1595230898000,"createdBy":"system","updatedBy":"system","subMenuList":[]},{"id":21,"parentId":5,"href":"VideoOptions","icon":"setting","name":"课时上传视频","description":"课时上传视频页面路由","orderNum":3,"shown":0,"level":1,"createdTime":1595230898000,"updatedTime":1595230898000,"createdBy":"system","updatedBy":"system","subMenuList":[]},{"id":23,"parentId":5,"href":"updateStatus修改","icon":"lock","name":"课程管理状态修改","description":"设置课程状态修改","orderNum":3,"shown":0,"level":0,"createdTime":1597091561000,"updatedTime":1597091561000,"createdBy":"system","updatedBy":"system","subMenuList":[]},{"id":24,"parentId":5,"href":"sectionAndLesson","icon":"setting","name":"章节内容与课时内容管理","description":"管理章节与课时内容内容","orderNum":2,"shown":0,"level":1,"createdTime":1597659085000,"updatedTime":1597659300000,"createdBy":"system","updatedBy":"system","subMenuList":[]}]},{"id":6,"parentId":-1,"href":"Users","icon":"user","name":"用户管理","description":null,"orderNum":3,"shown":1,"level":0,"createdTime":null,"updatedTime":null,"createdBy":null,"updatedBy":null,"subMenuList":null}],"resourceList":[{"id":1,"name":"获取所有角色001","url":"/boss/role/all","categoryId":1,"description":"获取所有角色","createdTime":null,"updatedTime":null,"createdBy":null,"updatedBy":null},{"id":2,"name":"给用户分配角色","url":"/boss/role/allocateUserRoles","categoryId":1,"description":"给用户分配角色","createdTime":null,"updatedTime":null,"createdBy":null,"updatedBy":null},{"id":3,"name":"按条件查询角色","url":"/boss/role/getRolePages","categoryId":1,"description":"按条件查询角色","createdTime":null,"updatedTime":null,"createdBy":null,"updatedBy":null},{"id":4,"name":"列出所有角色并标记用户是否拥有","url":"/boss/role/getRolesWithUserPermission","categoryId":1,"description":"列出所有角色并标记用户是否拥有","createdTime":null,"updatedTime":null,"createdBy":null,"updatedBy":null},{"id":5,"name":"保存或者更新角色","url":"/boss/role/saveOrUpdate","categoryId":1,"description":"保存或者更新角色","createdTime":null,"updatedTime":null,"createdBy":null,"updatedBy":null},{"id":6,"name":"查询用户角色","url":"/boss/role/user/{userId}","categoryId":1,"description":"查询用户角色","createdTime":null,"updatedTime":null,"createdBy":null,"updatedBy":null},{"id":7,"name":"获取角色","url":"/boss/role/{id}","categoryId":1,"description":"获取角色","createdTime":null,"updatedTime":null,"createdBy":null,"updatedBy":null},{"id":8,"name":"删除角色","url":"/boss/role/{id}","categoryId":1,"description":"删除角色","createdTime":null,"updatedTime":null,"createdBy":null,"updatedBy":null},{"id":9,"name":"给角色分配菜单","url":"/boss/menu/allocateRoleMenus","categoryId":2,"description":"给角色分配菜单","createdTime":null,"updatedTime":null,"createdBy":null,"updatedBy":null},{"id":10,"name":"获取所有菜单","url":"/boss/menu/getAll","categoryId":2,"description":"获取所有菜单","createdTime":null,"updatedTime":null,"createdBy":null,"updatedBy":null},{"id":11,"name":"获取编辑菜单页面信息","url":"/boss/menu/getEditMenuInfo","categoryId":2,"description":"获取编辑菜单页面信息","createdTime":null,"updatedTime":null,"createdBy":null,"updatedBy":null},{"id":12,"name":"获取所有菜单并按层级展示","url":"/boss/menu/getMenuNodeList","categoryId":2,"description":"获取所有菜单并按层级展示","createdTime":null,"updatedTime":null,"createdBy":null,"updatedBy":null},{"id":13,"name":"按条件分页查询菜单","url":"/boss/menu/getMenuPages","categoryId":2,"description":"按条件分页查询菜单","createdTime":null,"updatedTime":null,"createdBy":null,"updatedBy":null},{"id":14,"name":"获取角色拥有的菜单列表","url":"/boss/menu/getRoleMenus","categoryId":2,"description":"获取角色拥有的菜单列表","createdTime":null,"updatedTime":null,"createdBy":null,"updatedBy":null},{"id":15,"name":"保存或新增菜单","url":"/boss/menu/saveOrUpdate","categoryId":2,"description":"保存或新增菜单","createdTime":null,"updatedTime":null,"createdBy":null,"updatedBy":null},{"id":16,"name":"是否显示开关","url":"/boss/menu/switchShown","categoryId":2,"description":"是否显示开关","createdTime":null,"updatedTime":null,"createdBy":null,"updatedBy":null},{"id":17,"name":"根据ID查询菜单","url":"/boss/menu/{id}","categoryId":2,"description":"根据ID查询菜单","createdTime":null,"updatedTime":null,"createdBy":null,"updatedBy":null},{"id":18,"name":"删除菜单","url":"/boss/menu/{id}","categoryId":2,"description":"删除菜单","createdTime":null,"updatedTime":null,"createdBy":null,"updatedBy":null},{"id":19,"name":"给角色分配资源","url":"/boss/resource/allocateRoleResources","categoryId":3,"description":"给角色分配资源","createdTime":null,"updatedTime":null,"createdBy":null,"updatedBy":null},{"id":20,"name":"查询资源分类列表","url":"/boss/resource/category/getAll","categoryId":3,"description":"查询资源分类列表","createdTime":null,"updatedTime":null,"createdBy":null,"updatedBy":null},{"id":21,"name":"保存或更新资源分类","url":"/boss/resource/category/saveOrderUpdate","categoryId":3,"description":"保存或更新资源分类","createdTime":null,"updatedTime":null,"createdBy":null,"updatedBy":null},{"id":22,"name":"删除资源分类","url":"/boss/resource/category/{id}","categoryId":3,"description":"删除资源分类","createdTime":null,"updatedTime":null,"createdBy":null,"updatedBy":null},{"id":23,"name":"获取所有资源","url":"/boss/resource/getAll","categoryId":3,"description":"获取所有资源","createdTime":null,"updatedTime":null,"createdBy":null,"updatedBy":null},{"id":24,"name":"按条件分页查询资源","url":"/boss/resource/getResourcePages","categoryId":3,"description":"按条件分页查询资源","createdTime":null,"updatedTime":null,"createdBy":null,"updatedBy":null},{"id":25,"name":"获取角色拥有的资源列表","url":"/boss/resource/getRoleResources","categoryId":3,"description":"获取角色拥有的资源列表","createdTime":null,"updatedTime":null,"createdBy":null,"updatedBy":null},{"id":26,"name":"保存或者更新资源","url":"/boss/resource/saveOrUpdate","categoryId":3,"description":"保存或者更新资源","createdTime":null,"updatedTime":null,"createdBy":null,"updatedBy":null},{"id":27,"name":"获取资源","url":"/boss/resource/{id}","categoryId":3,"description":"获取资源","createdTime":null,"updatedTime":null,"createdBy":null,"updatedBy":null},{"id":28,"name":"删除资源","url":"/boss/resource/{id}","categoryId":3,"description":"删除资源","createdTime":null,"updatedTime":null,"createdBy":null,"updatedBy":null},{"id":29,"name":"封禁用户","url":"/boss/user/forbidUser","categoryId":5,"description":"封禁用户","createdTime":null,"updatedTime":null,"createdBy":null,"updatedBy":null},{"id":30,"name":"分页查询用户信息","url":"/boss/user/getUserPages","categoryId":5,"description":"分页查询用户信息","createdTime":null,"updatedTime":null,"createdBy":null,"updatedBy":null},{"id":31,"name":"获取用户菜单和资源权限列表","url":"/boss/permission/getUserPermissions","categoryId":5,"description":"获取用户菜单和资源权限列表","createdTime":null,"updatedTime":null,"createdBy":null,"updatedBy":null},{"id":32,"name":"查询用户角色","url":"/boss/role/user/{userId}","categoryId":1,"description":"查询用户角色","createdTime":null,"updatedTime":null,"createdBy":null,"updatedBy":null}]}}
INFO     common.recordlog:apiutil_business.py:286 json提取到参数：{'resourceId_2_7': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32]}
INFO     common.recordlog:assertions.py:308 yaml文件预期结果：[{'contains': {'status_code': 200}}, {'eq_db': {'1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32': 'SELECT DISTINCT resource_id FROM role_resource_relation WHERE role_id IN (2,7) ORDER BY resource_id'}}]
ERROR    common.recordlog:assertions.py:41 接口返回码包含断言成功：预期结果【200】,实际结果【200】
INFO     common.recordlog:connection.py:58 成功从连接池获取MySQL连接
INFO     common.recordlog:connection.py:67 成功释放数据库连接回连接池
INFO     common.recordlog:assertions.py:219 数据库相等断言成功：预期值【['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31', '32']】, 实际值【['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31', '32']】
INFO     common.recordlog:assertions.py:339 测试成功
INFO     common.recordlog:conftest.py:23 -------------接口测试结束--------------